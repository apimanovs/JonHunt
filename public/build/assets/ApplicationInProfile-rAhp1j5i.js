import{Q as C,p as $,o as t,c as B,w as N,a as F,u as l,Z as P,b as e,n as d,d as s,F as _,r as u,t as a,f,h}from"./app--gSEcGom.js";import{_ as V}from"./AuthenticatedLayout-3_nkEi-e.js";import"./ApplicationLogo-G7dBEAp6.js";import"./_plugin-vue_export-helper-x3n3nnut.js";const M={class:"max-w-5xl mx-auto p-6 bg-white dark:bg-gray-800"},S=e("h2",{class:"text-2xl font-bold mb-4"},"Applications",-1),T={class:"tabs flex gap-4 mb-6"},Y={key:0},z={key:0},D=e("p",null,"You have no projects.",-1),E=[D],I={key:1,class:"space-y-6"},L={class:"text-xl font-semibold text-gray-900 dark:text-white"},Q={class:"text-gray-700 dark:text-gray-300"},R=e("strong",null,"Budget:",-1),U={key:0,class:"mt-2"},Z=e("p",{class:"text-gray-500"},"No applications yet.",-1),q=[Z],G={key:1,class:"mt-4 space-y-4"},H={class:"flex items-center mb-3"},J=["href"],K=["src"],O={key:1,class:"w-12 h-12 rounded-full bg-gray-400 text-white font-bold flex items-center justify-center mr-3"},W=["href"],X={class:"text-gray-700 dark:text-gray-200"},ee=e("p",{class:"mb-2 text-xl"},[e("strong",null,"Cover letter")],-1),te={class:"bg-gray-100 dark:bg-gray-700 p-3 rounded whitespace-pre-line"},se={class:"mt-3"},oe=e("strong",null,"Status: ",-1),re={key:0,class:"mt-4 flex gap-2"},ae=["onClick"],ne=["onClick"],ce={key:1},le={key:0},ie=e("p",null,"You have not applied to any projects.",-1),de=[ie],_e={key:1,class:"space-y-6"},ue={class:"text-xl font-semibold text-gray-900 dark:text-white"},he=e("p",{class:"text-gray-700 text-xl dark:text-gray-300"},[e("strong",null,"Cover letter:")],-1),pe={class:"bg-white dark:bg-gray-800 p-3 rounded whitespace-pre-line mt-1 text-gray-800 dark:text-gray-100"},ge={class:"mt-2 text-gray-700 dark:text-gray-300"},ye=e("strong",null,"Status:",-1),fe={__name:"ApplicationInProfile",setup(xe){const{props:p}=C(),g=p.projects||[],y=p.myApplications||[],c=$("owner"),w=async i=>{try{await axios.post(route("projects.applications.approve",i)),alert("Application approved!"),location.reload()}catch(n){console.error(n),alert("Failed to approve.")}},A=async i=>{try{await axios.post(route("projects.applications.reject",i)),alert("Application rejected!"),location.reload()}catch(n){console.error(n),alert("Failed to reject.")}};return(i,n)=>(t(),B(V,null,{default:N(()=>[F(l(P),{title:"My Applications"}),e("div",M,[S,e("div",T,[e("button",{class:d([{"border-b-2 border-blue-500":c.value==="owner"},"px-4 py-2"]),onClick:n[0]||(n[0]=r=>c.value="owner")}," Applications to My Projects ",2),e("button",{class:d([{"border-b-2 border-blue-500":c.value==="freelancer"},"px-4 py-2"]),onClick:n[1]||(n[1]=r=>c.value="freelancer")}," My Applications ",2)]),c.value==="owner"?(t(),s("div",Y,[l(g).length===0?(t(),s("div",z,E)):(t(),s("div",I,[(t(!0),s(_,null,u(l(g),r=>(t(),s("div",{key:r.id,class:"border p-4 bg-gray-50 dark:bg-gray-700 rounded"},[e("h3",L,"Project: "+a(r.title),1),e("p",Q,[R,f(" "+a(r.budget),1)]),r.applications.length===0?(t(),s("div",U,q)):(t(),s("div",G,[(t(!0),s(_,null,u(r.applications,o=>{var x,b,v,m,k;return t(),s("div",{key:o.id,class:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 p-4 rounded shadow-sm"},[e("div",H,[e("a",{href:`/user/${(x=o.freelancer)==null?void 0:x.username}`},[(b=o.freelancer)!=null&&b.avatar?(t(),s("img",{key:0,src:o.freelancer.avatar.photo_url,alt:"Avatar",class:"w-12 h-12 rounded-full mr-3 border"},null,8,K)):(t(),s("div",O,a((v=o.freelancer)==null?void 0:v.name.charAt(0).toUpperCase()),1))],8,J),e("a",{href:`/user/${(m=o.freelancer)==null?void 0:m.username}`,class:"text-lg font-medium text-gray-500 dark:text-blue-300 hover:text-gray-600"},a((k=o.freelancer)==null?void 0:k.name),9,W)]),e("div",X,[ee,e("p",te,a(o.cover_letter),1),e("p",se,[oe,e("span",{class:d({"text-yellow-600":o.status==="pending","text-green-600":o.status==="approved","text-red-600":o.status==="reject"})},a(o.status),3)])]),o.status==="pending"?(t(),s("div",re,[e("button",{onClick:j=>w(o.id),class:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600"}," Approve ",8,ae),e("button",{onClick:j=>A(o.id),class:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"}," Reject ",8,ne)])):h("",!0)])}),128))]))]))),128))]))])):h("",!0),c.value==="freelancer"?(t(),s("div",ce,[l(y).length===0?(t(),s("div",le,de)):(t(),s("div",_e,[(t(!0),s(_,null,u(l(y),r=>(t(),s("div",{key:r.id,class:"border p-4 bg-gray-50 dark:bg-gray-700 rounded"},[e("h3",ue," Project: "+a(r.project.title),1),he,e("p",pe,a(r.cover_letter),1),e("p",ge,[ye,f(" "+a(r.status),1)])]))),128))]))])):h("",!0)])]),_:1}))}};export{fe as default};
